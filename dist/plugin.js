(function(c,i,s,d,n){"use strict";function f(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var p=f(s);function h(){const t=i.findByProps("getFavoriteChannels"),I=i.findByProps("addFavoriteChannel"),l=i.findByDisplayName("Menu",!1);p.default.after("default",l,a=>{const[{navId:r}]=a;if(!(r=="channel-context"||r=="user-context"))return a;if(!d.findInReactTree(a[0].children,o=>o?.props?.id==="favorite-channel")){var e;if(document.querySelector("#"+r)){const u=d.getOwnerInstance(document.querySelector("#"+r));e=(u?._reactInternals||u?._reactInternalFiber)?.child.child.child.return?.memoizedProps.children.props.channel}if(!e||e.type===n.constants.ChannelTypes.GUILD_CATEGORY||e.type===n.constants.ChannelTypes.GUILD_DIRECTORY||e.type===n.constants.ChannelTypes.GUILD_STORE)return a;let o=t.isFavorite(e.id);const C=n.React.createElement(l.MenuItem,{id:"favorite-channel",label:`${o?"Unfavorite":"Favorite"} ${r=="channel-context"?"Channel":"DM"}`,action:()=>{I.toggleFavoriteChannel(e.id)}});a[0].children.splice(1,0,n.React.createElement(l.MenuGroup,{},C)),e.type===n.constants.ChannelTypes.GUILD_VOICE||e.type===n.constants.ChannelTypes.GUILD_STAGE_VOICE||a[0].children.splice(1,0,n.React.createElement(l.MenuSeparator))}return a})}function y(){unpatch1()}return c.onLoad=h,c.onUnload=y,Object.defineProperty(c,"__esModule",{value:!0}),c})({},cumcord.modules.webpack,cumcord.patcher,cumcord.utils,cumcord.modules.common);
